{"epochs": 100, "current_epoch": 1, "samples_per_epoch": -1, "scale_epoch_size": 1.0, "train_accum_steps": 1, "progress_bar_mode": 2, "progbar_delta_time": 5, "tf_cpp_min_log_level": 2, "force_eager": false, "skip_model_load_test": true, "val_every_n": 1, "lav_every_n": 0, "lav_silent": true, "lav_min_epoch": 0, "output_dir": "/home/ls6/reul/temp/htr-paper/deep3/bastarda-ref/fold_2", "write_checkpoints": true, "export_best": true, "export_final": false, "no_train_scope": null, "ema_decay": 0.99, "random_seed": 9, "profile": false, "device": {"gpus": null, "gpu_auto_tune": false, "gpu_memory": null, "soft_device_placement": true, "dist_strategy": "default", "__cls__": "tfaip.device.device_config:DeviceConfigParams"}, "optimizer": {"clip_norm": null, "clip_value": null, "global_clip_norm": 5, "beta_1": 0.9, "beta_2": 0.999, "epsilon": 1e-07, "weight_decay": 1e-05, "__cls__": "tfaip.trainer.optimizer.optimizers:AdamOptimizer"}, "learning_rate": {"lr": 0.001, "step_function": true, "offset_epochs": 0, "steps_per_epoch": 1979, "epochs": 100, "__cls__": "tfaip.trainer.scheduler.constant_params:Constant"}, "scenario": {"debug_graph_n_examples": 1, "print_eval_limit": 10, "tensorboard_logger_history_size": 5, "export_serve": true, "model": {"layers": [{"name": "conv2d_0", "filters": 40, "kernel_size": {"x": 3, "y": 3, "__cls__": "calamari_ocr.ocr.model.layers.layer:IntVec2D"}, "strides": {"x": 1, "y": 1, "__cls__": "calamari_ocr.ocr.model.layers.layer:IntVec2D"}, "padding": "same", "activation": "relu", "__cls__": "calamari_ocr.ocr.model.layers.conv2d:Conv2DLayerParams"}, {"name": "maxpool2d_0", "pool_size": {"x": 2, "y": 2, "__cls__": "calamari_ocr.ocr.model.layers.layer:IntVec2D"}, "strides": {"x": -1, "y": -1, "__cls__": "calamari_ocr.ocr.model.layers.layer:IntVec2D"}, "padding": "same", "__cls__": "calamari_ocr.ocr.model.layers.pool2d:MaxPool2DLayerParams"}, {"name": "conv2d_1", "filters": 60, "kernel_size": {"x": 3, "y": 3, "__cls__": "calamari_ocr.ocr.model.layers.layer:IntVec2D"}, "strides": {"x": 1, "y": 1, "__cls__": "calamari_ocr.ocr.model.layers.layer:IntVec2D"}, "padding": "same", "activation": "relu", "__cls__": "calamari_ocr.ocr.model.layers.conv2d:Conv2DLayerParams"}, {"name": "maxpool2d_1", "pool_size": {"x": 2, "y": 2, "__cls__": "calamari_ocr.ocr.model.layers.layer:IntVec2D"}, "strides": {"x": -1, "y": -1, "__cls__": "calamari_ocr.ocr.model.layers.layer:IntVec2D"}, "padding": "same", "__cls__": "calamari_ocr.ocr.model.layers.pool2d:MaxPool2DLayerParams"}, {"name": "conv2d_2", "filters": 120, "kernel_size": {"x": 3, "y": 3, "__cls__": "calamari_ocr.ocr.model.layers.layer:IntVec2D"}, "strides": {"x": 1, "y": 1, "__cls__": "calamari_ocr.ocr.model.layers.layer:IntVec2D"}, "padding": "same", "activation": "relu", "__cls__": "calamari_ocr.ocr.model.layers.conv2d:Conv2DLayerParams"}, {"name": "lstm_0", "hidden_nodes": 200, "merge_mode": "concat", "__cls__": "calamari_ocr.ocr.model.layers.bilstm:BiLSTMLayerParams"}, {"name": "lstm_1", "hidden_nodes": 200, "merge_mode": "concat", "__cls__": "calamari_ocr.ocr.model.layers.bilstm:BiLSTMLayerParams"}, {"name": "lstm_2", "hidden_nodes": 200, "merge_mode": "concat", "__cls__": "calamari_ocr.ocr.model.layers.bilstm:BiLSTMLayerParams"}, {"name": "dropout_0", "rate": 0.5, "__cls__": "calamari_ocr.ocr.model.layers.dropout:DropoutLayerParams"}], "classes": 294, "ctc_merge_repeated": true, "ensemble": 0, "masking_mode": false, "__cls__": "calamari_ocr.ocr.model.params:ModelParams"}, "data": {"pre_proc": {"run_parallel": true, "num_threads": -1, "max_tasks_per_process": 250, "processors": [{"modes": ["evaluation", "prediction", "training"], "extra_params": [4, 1.0, 0.3], "line_height": 48, "__cls__": "calamari_ocr.ocr.dataset.imageprocessors.center_normalizer:CenterNormalizerProcessorParams"}, {"modes": ["evaluation", "prediction", "training"], "normalize": true, "invert": true, "transpose": true, "pad": 16, "pad_value": 0, "__cls__": "calamari_ocr.ocr.dataset.imageprocessors.final_preparation:FinalPreparationProcessorParams"}, {"modes": ["evaluation", "targets", "prediction", "training"], "bidi_direction": "auto", "__cls__": "calamari_ocr.ocr.dataset.textprocessors.basic_text_processors:BidiTextProcessorParams"}, {"modes": ["evaluation", "targets", "prediction", "training"], "__cls__": "calamari_ocr.ocr.dataset.textprocessors.basic_text_processors:StripTextProcessorParams"}, {"modes": ["evaluation", "targets", "prediction", "training"], "unicode_normalization": "NFC", "__cls__": "calamari_ocr.ocr.dataset.textprocessors.text_normalizer:TextNormalizerProcessorParams"}, {"modes": ["evaluation", "targets", "prediction", "training"], "replacements": [{"old": "(?u)\\s+", "new": " ", "regex": true}, {"old": "(?u)\\n", "new": "", "regex": true}, {"old": "(?u)^\\s+", "new": "", "regex": true}, {"old": "(?u)\\s+$", "new": "", "regex": true}], "rulesets": ["spaces"], "rulegroups": [], "__cls__": "calamari_ocr.ocr.dataset.textprocessors.text_regularizer:TextRegularizerProcessorParams"}, {"modes": ["evaluation", "prediction", "training"], "max_line_width": 4096, "__cls__": "calamari_ocr.ocr.dataset.imageprocessors.preparesample:PrepareSampleProcessorParams"}], "__cls__": "tfaip.data.pipeline.processor.params:SequentialProcessorPipelineParams"}, "post_proc": {"run_parallel": false, "num_threads": -1, "max_tasks_per_process": 250, "processors": [{"modes": ["evaluation", "targets", "prediction", "training"], "__cls__": "calamari_ocr.ocr.dataset.postprocessors.reshape:ReshapeOutputsProcessorParams"}, {"modes": ["evaluation", "targets", "prediction", "training"], "ctc_decoder_params": {"type": "default", "blank_index": 0, "min_p_threshold": 0, "non_word_chars": ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "[", "]", "(", ")", "_", ".", ":", ";", "!", "?", "{", "}", "-", "'", "\""], "dictionary": [], "word_separator": " ", "__cls__": "calamari_ocr.ocr.model.ctcdecoder.ctc_decoder:CTCDecoderParams"}, "__cls__": "calamari_ocr.ocr.dataset.postprocessors.ctcdecoder:CTCDecoderProcessorParams"}, {"modes": ["evaluation", "targets", "prediction", "training"], "bidi_direction": "auto", "__cls__": "calamari_ocr.ocr.dataset.textprocessors.basic_text_processors:BidiTextProcessorParams"}, {"modes": ["evaluation", "targets", "prediction", "training"], "__cls__": "calamari_ocr.ocr.dataset.textprocessors.basic_text_processors:StripTextProcessorParams"}, {"modes": ["evaluation", "targets", "prediction", "training"], "unicode_normalization": "NFC", "__cls__": "calamari_ocr.ocr.dataset.textprocessors.text_normalizer:TextNormalizerProcessorParams"}, {"modes": ["evaluation", "targets", "prediction", "training"], "replacements": [{"old": "(?u)\\s+", "new": " ", "regex": true}, {"old": "(?u)\\n", "new": "", "regex": true}, {"old": "(?u)^\\s+", "new": "", "regex": true}, {"old": "(?u)\\s+$", "new": "", "regex": true}], "rulesets": ["spaces"], "rulegroups": [], "__cls__": "calamari_ocr.ocr.dataset.textprocessors.text_regularizer:TextRegularizerProcessorParams"}], "__cls__": "tfaip.data.pipeline.processor.params:SequentialProcessorPipelineParams"}, "resource_base_path": ".", "skip_invalid_gt": true, "input_channels": 1, "downscale_factor": 4, "line_height": 48, "ensemble": 0, "codec": {"charset": ["", " ", "!", "\"", "#", "&", "'", "(", ")", "*", ",", "-", ".", "/", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", ":", ";", "=", "?", "@", "A", "B", "C", "D", "E", "F", "G", "H", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "[", "\\", "]", "_", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "|", "\u00a7", "\u00ab", "\u00b0", "\u00b6", "\u00b7", "\u00b9", "\u00bb", "\u00bd", "\u00c0", "\u00c4", "\u00c6", "\u00c7", "\u00c8", "\u00c9", "\u00ca", "\u00d3", "\u00d4", "\u00d6", "\u00dc", "\u00df", "\u00e0", "\u00e1", "\u00e2", "\u00e3", "\u00e4", "\u00e6", "\u00e7", "\u00e8", "\u00e9", "\u00ea", "\u00eb", "\u00ec", "\u00ed", "\u00ee", "\u00ef", "\u00f0", "\u00f1", "\u00f2", "\u00f3", "\u00f4", "\u00f5", "\u00f6", "\u00f9", "\u00fa", "\u00fb", "\u00fc", "\u00ff", "\u0107", "\u0111", "\u0119", "\u0129", "\u0142", "\u014b", "\u0152", "\u0153", "\u0169", "\u016f", "\u017f", "\u01b7", "\u0207", "\u0223", "\u0233", "\u0292", "\u02d6", "\u0301", "\u0303", "\u0304", "\u0308", "\u030a", "\u0315", "\u0342", "\u0364", "\u0365", "\u0366", "\u0391", "\u0393", "\u03a3", "\u03ac", "\u03ad", "\u03ae", "\u03b1", "\u03b2", "\u03b3", "\u03b4", "\u03b5", "\u03b7", "\u03b8", "\u03b9", "\u03ba", "\u03bb", "\u03bc", "\u03bd", "\u03be", "\u03bf", "\u03c0", "\u03c1", "\u03c2", "\u03c3", "\u03c4", "\u03c5", "\u03c6", "\u03c7", "\u03c9", "\u03cc", "\u03ce", "\u03d6", "\u03e7", "\u0452", "\u05d0", "\u05d1", "\u05d4", "\u05d5", "\u05d6", "\u05d7", "\u05d9", "\u05db", "\u05de", "\u05e0", "\u05e1", "\u05e4", "\u05e7", "\u05e8", "\u05e9", "\u05ea", "\u1d10", "\u1dce", "\u1dd1", "\u1dd3", "\u1de3", "\u1e85", "\u1e9c", "\u1ebd", "\u1ef9", "\u1f00", "\u1f10", "\u1f76", "\u1f78", "\u1fc6", "\u1fe4", "\u1fe5", "\u1fe6", "\u1ff6", "\u201a", "\u2022", "\u204a", "\u2081", "\u2086", "\u211e", "\u2184", "\u2292", "\u25bd", "\u2609", "\u263d", "\u263f", "\u2640", "\u2642", "\u2643", "\u2644", "\u2e4a", "\ua751", "\ua753", "\ua757", "\ua758", "\ua759", "\ua75d", "\ua76b", "\ua76d", "\ua770", "\ua776", "\ue44d", "\ue5b1", "\ueba1", "\ueed9", "\uf02f", "\uf1bb", "\uf1cc", "I", "Z", "z", "\u00fd", "\u0101", "\u0113", "\u012b", "\u014d", "\u016b", "\u0175", "\u0302", "\u033e", "\u035b", "\u035e", "\u0363", "\u0367", "\u036c", "\u036d", "\u036e", "\u036f", "\u1de4", "\u1e21", "\u1e59", "\u1e7d", "\u1e83", "\u1e8f", "\u1ecb", "\u2024", "\u2108", "\ua750", "\ua75b", "\ua76a", "\ue42c", "\ue665", "\ue72d"], "__cls__": "calamari_ocr.ocr.dataset.codec:Codec"}, "__cls__": "calamari_ocr.ocr.dataset.params:DataParams"}, "evaluator": {"__cls__": "tfaip.evaluator.params:EvaluatorParams"}, "export_net_config": false, "net_config_filename": "net_config.json", "default_serve_dir": "2.ckpt.h5", "additional_serve_dir": "additional", "trainer_params_filename": "2.ckpt.json", "scenario_params_filename": "scenario_params.json", "scenario_base_path": "/home/ls6/reul/calamari/calamari_ocr/ocr/scenario.py", "scenario_id": "calamari_ocr.ocr.scenario:CalamariScenario", "id": "fold_2_calamari_ocr.ocr.scenario:CalamariScenario_2021-11-19", "tfaip_commit_hash": null, "tfaip_version": "1.2.4", "__cls__": "calamari_ocr.ocr.scenario_params:CalamariScenarioParams"}, "warmstart": {"model": "/scratch/zpd/data/handschriften/tomasek/models/deep3/bastarda/2.ckpt.h5", "allow_partial": false, "trim_graph_name": false, "rename": [], "add_suffix": "", "rename_targets": [], "exclude": null, "include": null, "auto_remove_numbers_for": ["lstm_cell"], "__cls__": "tfaip.trainer.warmstart.warmstart_params:WarmStartParams"}, "early_stopping": {"best_model_output_dir": "/scratch/zpd/data/handschriften/tomasek/models/deep3/bastarda-ref", "best_model_name": "", "frequency": 1, "n_to_go": 5, "lower_threshold": 0.0, "upper_threshold": 0.9, "mode": "min", "current": 0.07120833545923233, "monitor": "val_CER", "n": 1, "__cls__": "tfaip.trainer.callbacks.earlystopping.params:EarlyStoppingParams"}, "gen": {"setup": {"train": {"batch_size": 5, "limit": -1, "prefetch": 32, "num_processes": 8, "batch_drop_remainder": false, "shuffle_buffer_size": 10000, "mode": "training", "bucket_boundaries": [], "bucket_batch_sizes": null, "__cls__": "tfaip.data.databaseparams:DataPipelineParams"}, "val": {"batch_size": 16, "limit": -1, "prefetch": 32, "num_processes": 8, "batch_drop_remainder": false, "shuffle_buffer_size": -1, "mode": "evaluation", "bucket_boundaries": [], "bucket_batch_sizes": null, "__cls__": "tfaip.data.databaseparams:DataPipelineParams"}, "__cls__": "tfaip.trainer.params:TrainerPipelines"}, "train": {"channels": 1, "to_gray_method": "cv", "skip_invalid": true, "non_existing_as_empty": false, "n_folds": 0, "preload": false, "files": ["/home/ls6/reul/temp/htr-paper/deep3/bastarda-ref/fold0_000.h5", "/home/ls6/reul/temp/htr-paper/deep3/bastarda-ref/fold1_000.h5", "/home/ls6/reul/temp/htr-paper/deep3/bastarda-ref/fold3_000.h5", "/home/ls6/reul/temp/htr-paper/deep3/bastarda-ref/fold4_000.h5"], "pred_extension": ".pred.xml", "__cls__": "calamari_ocr.ocr.dataset.datareader.hdf5.reader:Hdf5"}, "val": {"channels": 1, "to_gray_method": "cv", "skip_invalid": true, "non_existing_as_empty": false, "n_folds": 0, "preload": false, "files": ["/home/ls6/reul/temp/htr-paper/deep3/bastarda-ref/fold2_000.h5"], "pred_extension": ".pred.xml", "__cls__": "calamari_ocr.ocr.dataset.datareader.hdf5.reader:Hdf5"}, "__cls__": "calamari_ocr.ocr.training.pipeline_params:CalamariDefaultTrainerPipelineParams"}, "saved_checkpoint_sub_dir": "checkpoint/checkpoint_0010", "checkpoint_sub_dir": "checkpoint/checkpoint_{epoch:04d}", "checkpoint_save_freq": "epoch", "version": 5, "data_aug_retrain_on_original": true, "current_stage": 1, "scale_epoch_size_no_da_train": -1, "progress_bar": true, "auto_upgrade_checkpoints": true, "codec": {"keep_loaded": true, "auto_compute": true, "include": [], "include_files": [], "resolved_include_chars": ["l", "/", "\u00fc", "g", "\u033e", "d", "r", "K", "R", "e", "v", "\u0101", "k", "\u1e8f", "\ua76d", "\u00f6", "E", "t", "\u1dd3", "\u2184", "\u0304", "a", "C", "s", "I", "i", "\u00df", "M", "\u1e85", "\u2108", "\u0233", "Y", ".", "\u0365", "\u035e", "y", "\u00fa", "b", "\u035b", "\u036f", "\u1e83", "\ue665", "P", "j", "n", "G", "T", "O", " ", "f", "U", "H", "w", "V", "\ua75b", "\u0113", "D", "Q", "\ua770", "\u014d", "\u00b6", "J", "N", "m", "\ua76b", "\ua75d", "\u017f", "\u0292", "h", "z", "o", "\u016b", "W", "\u036e", "\u0364", "\u1e21", "B", "\u01b7", "\ue72d", "p", "\u204a", "A", "L", "Z", "c", "\u0363", "x", "\u012b", "\u0308", "\u00ff", "u", "\u00eb", "F", "S", "-", "\u00e4", "q", "\u00fd", "\u0366"], "__cls__": "calamari_ocr.ocr.dataset.codec:CodecConstructionParams"}, "best_model_prefix": "2", "__cls__": "calamari_ocr.ocr.training.params:TrainerParams"}